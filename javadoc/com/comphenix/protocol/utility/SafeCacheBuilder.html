<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>SafeCacheBuilder (ProtocolLib 5.4.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: com.comphenix.protocol.utility, class: SafeCacheBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.comphenix.protocol.utility</a></div>
<h1 title="Class SafeCacheBuilder" class="title">Class SafeCacheBuilder&lt;K,<wbr>V&gt;</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.comphenix.protocol.utility.SafeCacheBuilder&lt;K,<wbr>V&gt;</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">SafeCacheBuilder&lt;K,<wbr>V&gt;</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Represents a Guava CacheBuilder that is compatible with both Guava 10 and 13.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr>
V1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;<br><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentMap</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#build(com.google.common.cache.CacheLoader)" class="member-name-link">build</a><wbr>(com.google.common.cache.CacheLoader&lt;? super K1,<wbr>V1&gt;&nbsp;loader)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the cache wrapped as a ConcurrentMap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#concurrencyLevel(int)" class="member-name-link">concurrencyLevel</a><wbr>(int&nbsp;concurrencyLevel)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Guides the allowed concurrency among update operations.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireAfterAccess(long,java.util.concurrent.TimeUnit)" class="member-name-link">expireAfterAccess</a><wbr>(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or last
 access.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireAfterWrite(long,java.util.concurrent.TimeUnit)" class="member-name-link">expireAfterWrite</a><wbr>(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or the most
 recent replacement of its value.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#initialCapacity(int)" class="member-name-link">initialCapacity</a><wbr>(int&nbsp;initialCapacity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the minimum total size for the internal hash tables.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#maximumSize(int)" class="member-name-link">maximumSize</a><wbr>(int&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies the maximum number of entries the cache may contain.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static &lt;K,<wbr>
V&gt;&nbsp;<a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;K,<wbr>V&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#newBuilder()" class="member-name-link">newBuilder</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Construct a new safe cache builder.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;K1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr>
V1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;<br><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;K1,<wbr>V1&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removalListener(com.google.common.cache.RemovalListener)" class="member-name-link">removalListener</a><wbr>(com.google.common.cache.RemovalListener&lt;? super K1,<wbr>? super V1&gt;&nbsp;listener)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies a listener instance, which all caches built using this
 <code>CacheBuilder</code> will notify each time an entry is removed from the
 cache by any means.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#softValues()" class="member-name-link">softValues</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/SoftReference.html" title="class or interface in java.lang.ref" class="external-link"><code>SoftReference</code></a> (by default, strong references are used).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#ticker(com.google.common.base.Ticker)" class="member-name-link">ticker</a><wbr>(com.google.common.base.Ticker&nbsp;ticker)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies a nanosecond-precision time source for use in determining when
 entries should be expired.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#weakKeys()" class="member-name-link">weakKeys</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a><wbr>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#weakValues()" class="member-name-link">weakValues</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="newBuilder()">
<h3>newBuilder</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="type-parameters">&lt;K,<wbr>
V&gt;</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K,<wbr>V&gt;</span>&nbsp;<span class="element-name">newBuilder</span>()</div>
<div class="block">Construct a new safe cache builder.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>K</code> - Key type</dd>
<dd><code>V</code> - Value type</dd>
<dt>Returns:</dt>
<dd>A new cache builder.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="concurrencyLevel(int)">
<h3>concurrencyLevel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">concurrencyLevel</span><wbr><span class="parameters">(int&nbsp;concurrencyLevel)</span></div>
<div class="block">Guides the allowed concurrency among update operations. Used as a hint
 for internal sizing. The table is internally partitioned to try to permit
 the indicated number of concurrent updates without contention. Because
 assignment of entries to these partitions is not necessarily uniform, the
 actual concurrency observed may vary. Ideally, you should choose a value
 to accommodate as many threads as will ever concurrently modify the
 table. Using a significantly higher value than you need can waste space
 and time, and a significantly lower value can lead to thread contention.
 But overestimates and underestimates within an order of magnitude do not
 usually have much noticeable impact. A value of one permits only one
 thread to modify the cache at a time, but since read operations can
 proceed concurrently, this still yields higher concurrency than full
 synchronization. Defaults to 4.
 
 <p>
 <b>Note:</b>The default may change in the future. If you care about this
 value, you should always choose it explicitly.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>concurrencyLevel</code> - New concurrency level</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>concurrencyLevel</code> is
         nonpositive</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a concurrency level was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expireAfterAccess(long,java.util.concurrent.TimeUnit)">
<h3>expireAfterAccess</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterAccess</span><wbr><span class="parameters">(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or last
 access. Access time is reset by <code>Cache.get()</code>,
 but not by operations on the view returned by
 <code>Cache.asMap()</code>.
 
 <p>
 When <code>duration</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="#maximumSize(int)"><code>maximumSize</code></a><code>(0)</code>. It can be useful in testing,
 or to disable caching temporarily without a code change.
 
 <p>
 Expired entries may be counted by <code>Cache.size()</code>, but will never be
 visible to read or write operations. Expired entries are currently
 cleaned up during write operations, or during occasional read operations
 in the absense of writes; though this behavior may change in the future.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is last accessed that
            it should be automatically removed</dd>
<dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the time to idle or time to live was
             already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="expireAfterWrite(long,java.util.concurrent.TimeUnit)">
<h3>expireAfterWrite</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">expireAfterWrite</span><wbr><span class="parameters">(long&nbsp;duration,
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/TimeUnit.html" title="class or interface in java.util.concurrent" class="external-link">TimeUnit</a>&nbsp;unit)</span></div>
<div class="block">Specifies that each entry should be automatically removed from the cache
 once a fixed duration has elapsed after the entry's creation, or the most
 recent replacement of its value.
 
 <p>
 When <code>duration</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="#maximumSize(int)"><code>maximumSize</code></a><code>(0)</code>. It can be useful in testing,
 or to disable caching temporarily without a code change.
 
 <p>
 Expired entries may be counted by <code>Cache.size()</code>, but will never be
 visible to read or write operations. Expired entries are currently
 cleaned up during write operations, or during occasional read operations
 in the absense of writes; though this behavior may change in the future.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>duration</code> - the length of time after an entry is created that it
            should be automatically removed</dd>
<dd><code>unit</code> - the unit that <code>duration</code> is expressed in</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>duration</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the time to live or time to idle was
             already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="initialCapacity(int)">
<h3>initialCapacity</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">initialCapacity</span><wbr><span class="parameters">(int&nbsp;initialCapacity)</span></div>
<div class="block">Sets the minimum total size for the internal hash tables. For example, if
 the initial capacity is <code>60</code>, and the concurrency level is
 <code>8</code>, then eight segments are created, each having a hash table of
 size eight. Providing a large enough estimate at construction time avoids
 the need for expensive resizing operations later, but setting this value
 unnecessarily high wastes memory.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>initialCapacity</code> - - initial capacity</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>initialCapacity</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if an initial capacity was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="maximumSize(int)">
<h3>maximumSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">maximumSize</span><wbr><span class="parameters">(int&nbsp;size)</span></div>
<div class="block">Specifies the maximum number of entries the cache may contain. Note that
 the cache <b>may evict an entry before this limit is exceeded</b>. As the
 cache size grows close to the maximum, the cache evicts entries that are
 less likely to be used again. For example, the cache may evict an entry
 because it hasn't been used recently or very often.
 
 <p>
 When <code>size</code> is zero, elements will be evicted immediately after
 being loaded into the cache. This has the same effect as invoking
 <a href="#expireAfterWrite(long,java.util.concurrent.TimeUnit)"><code>expireAfterWrite</code></a><code>(0, unit)</code> or
 <a href="#expireAfterAccess(long,java.util.concurrent.TimeUnit)"><code>expireAfterAccess</code></a><code>(0,
 unit)</code>. It can be useful in testing, or to disable caching temporarily
 without a code change.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - the maximum size of the cache</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if <code>size</code> is negative</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a maximum size was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removalListener(com.google.common.cache.RemovalListener)">
<h3>removalListener</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr>
V1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>
<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">removalListener</span><wbr><span class="parameters">(com.google.common.cache.RemovalListener&lt;? super K1,<wbr>? super V1&gt;&nbsp;listener)</span></div>
<div class="block">Specifies a listener instance, which all caches built using this
 <code>CacheBuilder</code> will notify each time an entry is removed from the
 cache by any means.
 
 <p>
 Each cache built by this <code>CacheBuilder</code> after this method is called
 invokes the supplied listener after removing an element for any reason
 (see removal causes in <code>RemovalCause</code>). It will invoke the listener
 during invocations of any of that cache's public methods (even read-only
 methods).
 
 <p>
 <b>Important note:</b> Instead of returning <em>this</em> as a
 <code>CacheBuilder</code> instance, this method returns
 <code>CacheBuilder&lt;K1, V1&gt;</code>. From this point on, either the original
 reference or the returned reference may be used to complete configuration
 and build the cache, but only the "generic" one is type-safe. That is, it
 will properly prevent you from building caches whose key or value types
 are incompatible with the types accepted by the listener already
 provided; the <code>CacheBuilder</code> type cannot do this. For best results,
 simply use the standard method-chaining idiom, as illustrated in the
 documentation at top, configuring a <code>CacheBuilder</code> and building
 your <code>Cache</code> all in a single statement.
 
 <p>
 <b>Warning:</b> if you ignore the above advice, and use this
 <code>CacheBuilder</code> to build a cache whose key or value type is
 incompatible with the listener, you will likely experience a
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ClassCastException.html" title="class or interface in java.lang" class="external-link"><code>ClassCastException</code></a> at some <i>undefined</i> point in the future.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>K1</code> - Key type</dd>
<dd><code>V1</code> - Value type</dd>
<dt>Parameters:</dt>
<dd><code>listener</code> - - removal listener</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a removal listener was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ticker(com.google.common.base.Ticker)">
<h3>ticker</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">ticker</span><wbr><span class="parameters">(com.google.common.base.Ticker&nbsp;ticker)</span></div>
<div class="block">Specifies a nanosecond-precision time source for use in determining when
 entries should be expired. By default, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/System.html#nanoTime()" title="class or interface in java.lang" class="external-link"><code>System.nanoTime()</code></a> is used.
 
 <p>
 The primary intent of this method is to facilitate testing of caches
 which have been configured with <a href="#expireAfterWrite(long,java.util.concurrent.TimeUnit)"><code>expireAfterWrite(long, java.util.concurrent.TimeUnit)</code></a> or
 <a href="#expireAfterAccess(long,java.util.concurrent.TimeUnit)"><code>expireAfterAccess(long, java.util.concurrent.TimeUnit)</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ticker</code> - - ticker</dd>
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if a ticker was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="softValues()">
<h3>softValues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">softValues</span>()</div>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/SoftReference.html" title="class or interface in java.lang.ref" class="external-link"><code>SoftReference</code></a> (by default, strong references are used).
 Softly-referenced objects will be garbage-collected in a <i>globally</i>
 least-recently-used manner, in response to memory demand.
 
 <p>
 <b>Warning:</b> in most circumstances it is better to set a per-cache
 <a href="#maximumSize(int)">maximum size</a> instead of using soft references.
 You should only use this method if you are well familiar with the
 practical consequences of soft references.
 
 <p>
 <b>Note:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of values.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="weakKeys()">
<h3>weakKeys</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">weakKeys</span>()</div>
<div class="block">Specifies that each key (not value) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).
 
 <p>
 <b>Warning:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of keys.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the key strength was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="weakValues()">
<h3>weakValues</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SafeCacheBuilder.html" title="class in com.comphenix.protocol.utility">SafeCacheBuilder</a>&lt;<a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr><a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>&nbsp;<span class="element-name">weakValues</span>()</div>
<div class="block">Specifies that each value (not key) stored in the cache should be wrapped
 in a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/ref/WeakReference.html" title="class or interface in java.lang.ref" class="external-link"><code>WeakReference</code></a> (by default, strong references are used).
 
 <p>
 Weak values will be garbage collected once they are weakly reachable.
 This makes them a poor candidate for caching; consider
 <a href="#softValues()"><code>softValues()</code></a> instead.
 
 <p>
 <b>Note:</b> when this method is used, the resulting cache will use
 identity (<code>==</code>) comparison to determine equality of values.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>This for chaining</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if the value strength was already set</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="build(com.google.common.cache.CacheLoader)">
<h3>build</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;K1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">K</a>,<wbr>
V1 extends <a href="SafeCacheBuilder.html" title="type parameter in SafeCacheBuilder">V</a>&gt;</span>
<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/concurrent/ConcurrentMap.html" title="class or interface in java.util.concurrent" class="external-link">ConcurrentMap</a>&lt;K1,<wbr>V1&gt;</span>&nbsp;<span class="element-name">build</span><wbr><span class="parameters">(com.google.common.cache.CacheLoader&lt;? super K1,<wbr>V1&gt;&nbsp;loader)</span></div>
<div class="block">Returns the cache wrapped as a ConcurrentMap.
 <p>
 We can't return the direct Cache instance as it changed in Guava 13.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>K1</code> - Key type</dd>
<dd><code>V1</code> - Value type</dd>
<dt>Parameters:</dt>
<dd><code>loader</code> - - cache loader</dd>
<dt>Returns:</dt>
<dd>The cache as a a map.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
